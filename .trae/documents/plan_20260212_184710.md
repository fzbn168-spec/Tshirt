# 系统深度清理与修复计划

针对您遇到的 `ERR_CONNECTION_RESET` 顽疾，以及代码库中存在的混乱情况，我将执行以下深度清理和修复操作。

### 1. 核心修复 (Nginx & SSL)
*   **硬编码生产环境配置**：创建 `nginx/conf.d/prod.conf`，将域名 `aif1688.com` 硬编码写入。彻底摒弃依赖环境变量的脆弱方式，消除 `envsubst` 带来的隐患。
*   **修正 `docker-compose.prod.yml`**：直接挂载这个新的 `prod.conf`，确保 Nginx 启动即正确。

### 2. 清理“死代码” (Dead Code Removal)
您的根目录下存在大量重复、过时或误导性的脚本，这些是项目维护的噩梦。我将删除以下文件：
*   **过时部署脚本**：`deploy.sh`, `setup-server.sh`, `deploy.ps1`, `fix-deploy.sh`, `force-deploy.sh`, `reset-backend.sh`, `reset-frontend.sh`
*   **重复配置**：`setup-production-env.sh`, `setup-ssl.sh`
*   **误导性文档**：`docker-compose.yml` (这是开发环境配置，但在服务器上容易被误用，我将重命名为 `docker-compose.dev.yml` 以示区分)。

### 3. 规范化配置
*   **更新 `.env.example`**：填入正确的默认值（如域名），防止误操作。

### 4. 执行计划
1.  **创建** 稳健的 Nginx 配置文件 `nginx/conf.d/prod.conf`。
2.  **更新** `docker-compose.prod.yml` 使用该配置文件。
3.  **删除** 上述列出的垃圾文件。
4.  **重命名** `docker-compose.yml` -> `docker-compose.dev.yml`。
5.  **提交** 更改到仓库。
6.  **服务器执行**：拉取代码 -> 重建容器。

此方案将把项目从“脚本地狱”中解救出来，回归最简单、最可靠的 Docker 部署模式。

**请确认是否执行此深度清理计划？**